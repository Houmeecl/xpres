import{c as ge,r as i,aG as Se,j as e,T as ve,i as fe,k,a1 as Y,n as ie,$ as C,I as Z,O as w,P as S,Q as D,R as T,V as t,aD as De,B as l,a as b,e as y,D as ue,b7 as Ae,b8 as Me,ar as ee,b9 as se,as as ae,at as te,au as re,av as le,ap as pe,aw as Te,ba as Ne,bb as J,bc as Ve,bd as Qe,be as je,bf as Fe,bg as Ee,aH as Re,F as I,aP as N,a4 as ze,aa as Le,aF as Oe,b as de,d as oe,f as me,aS as Pe,aT as Be,aU as xe,aV as $,Y as be,bh as qe,aW as $e,aX as z,ag as He,b0 as Ue,b1 as Ge,bi as _e,b2 as Ke,E as Xe,bj as Je,b6 as We,x as Ze,bk as ye,bl as Ce}from"./index-Bdt7aQY8.js";import{V as Ye}from"./VecinosAdminLayout-BVBfj647.js";import{S as he,L as es}from"./scan-C9uXCfh4.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=ge("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ge("FolderUp",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ts=({onDocumentImport:f})=>{const[H,U]=i.useState("generate"),[m,j]=i.useState({title:"",type:"contrato",description:"",recipient:"",expiryDate:""}),[F,A]=i.useState(""),[L,M]=i.useState(!1),[R,V]=i.useState(!1),[n,p]=i.useState(null),[O,g]=i.useState(!1),r=i.useRef(null),h=i.useRef(null),{toast:d}=Se(),v=async()=>{if(!m.title){d({title:"Título requerido",description:"Por favor ingrese un título para el documento",variant:"destructive"});return}M(!0);try{const a={...m,id:`doc-${Date.now()}`,generatedAt:new Date().toISOString()},o=JSON.stringify(a),u=await Qe.toDataURL(o,{width:300,margin:2,color:{dark:"#2d219b",light:"#FFFFFF"}});A(u),d({title:"Código QR generado",description:"El código QR del documento ha sido creado con éxito"})}catch(a){console.error("Error al generar el código QR:",a),d({title:"Error al generar el código QR",description:"Ha ocurrido un error al generar el código QR",variant:"destructive"})}finally{M(!1)}},G=()=>{const a=document.createElement("a");a.href=F,a.download=`qr-documento-${m.title.toLowerCase().replace(/\s+/g,"-")}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a),d({title:"Código QR descargado",description:"La imagen del código QR ha sido descargada"})},_=async()=>{try{const o=await(await fetch(F)).blob();await navigator.clipboard.write([new ClipboardItem({[o.type]:o})]),d({title:"Código QR copiado",description:"La imagen del código QR ha sido copiada al portapapeles"})}catch(a){console.error("Error al copiar el código QR:",a),d({title:"Error al copiar",description:"No se pudo copiar la imagen al portapapeles",variant:"destructive"})}},P=async()=>{if(!(!r.current||!h.current))try{const a=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r.current&&(r.current.srcObject=a,r.current.play());const o=setInterval(()=>{if(!h.current||!r.current){clearInterval(o);return}const u=h.current,Q=u.getContext("2d");Q&&r.current.readyState===r.current.HAVE_ENOUGH_DATA&&(u.height=r.current.videoHeight,u.width=r.current.videoWidth,Q.drawImage(r.current,0,0,u.width,u.height),setTimeout(()=>{const B={id:`doc-${Date.now()}`,title:"Contrato de Arriendo Local Comercial",type:"contrato",description:"Contrato estándar para arriendo de local comercial con VecinoXpress",recipient:"Minimarket El Sol",generatedAt:new Date().toISOString(),expiryDate:"2025-12-31"};r.current&&r.current.srcObject&&(r.current.srcObject.getTracks().forEach(K=>K.stop()),r.current.srcObject=null),clearInterval(o),p(B),d({title:"QR escaneado con éxito",description:"Se ha detectado un documento en el código QR"})},3e3))},500);return()=>clearInterval(o)}catch(a){console.error("Error al acceder a la cámara:",a),d({title:"Error de cámara",description:"No se pudo acceder a la cámara del dispositivo",variant:"destructive"})}},c=()=>{r.current&&r.current.srcObject&&(r.current.srcObject.getTracks().forEach(u=>u.stop()),r.current.srcObject=null)},x=()=>{n&&(g(!0),setTimeout(()=>{f&&f(n),d({title:"Documento importado con éxito",description:"El documento ha sido añadido al sistema"}),p(null),V(!1),g(!1)},1500))};return i.useEffect(()=>{R||c()},[R]),e.jsx("div",{children:e.jsxs(ve,{defaultValue:"generate",className:"w-full",onValueChange:U,children:[e.jsxs(fe,{className:"grid w-full grid-cols-2",children:[e.jsxs(k,{value:"generate",className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Generar QR"]}),e.jsxs(k,{value:"import",className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Escanear QR"]})]}),e.jsx(ie,{value:"generate",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"title",children:"Título del documento"}),e.jsx(Z,{id:"title",placeholder:"Ingrese el título del documento",value:m.title,onChange:a=>j({...m,title:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"type",children:"Tipo de documento"}),e.jsxs(w,{value:m.type,onValueChange:a=>j({...m,type:a}),children:[e.jsx(S,{id:"type",children:e.jsx(D,{placeholder:"Seleccionar tipo"})}),e.jsxs(T,{children:[e.jsx(t,{value:"contrato",children:"Contrato"}),e.jsx(t,{value:"certificado",children:"Certificado"}),e.jsx(t,{value:"formulario",children:"Formulario"}),e.jsx(t,{value:"declaracion",children:"Declaración"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"description",children:"Descripción"}),e.jsx(De,{id:"description",placeholder:"Ingrese una descripción del documento",value:m.description,onChange:a=>j({...m,description:a.target.value}),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"recipient",children:"Destinatario"}),e.jsx(Z,{id:"recipient",placeholder:"Nombre del destinatario o socio",value:m.recipient,onChange:a=>j({...m,recipient:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"expiryDate",children:"Fecha de expiración (opcional)"}),e.jsx(Z,{id:"expiryDate",type:"date",value:m.expiryDate,onChange:a=>j({...m,expiryDate:a.target.value})})]}),e.jsx(l,{className:"w-full",onClick:v,disabled:L,children:L?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Generando..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:"Generar código QR"})]})})]}),e.jsx(b,{className:"overflow-hidden flex flex-col",children:e.jsx(y,{className:"p-6 flex-grow flex flex-col items-center justify-center",children:F?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 p-4 bg-white rounded-lg shadow-sm inline-block",children:e.jsx("img",{src:F,alt:"QR Code",className:"max-w-full h-auto",width:250,height:250})}),e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-4",children:["Código QR para: ",m.title]}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:G,children:[e.jsx(ue,{className:"h-4 w-4"}),"Descargar"]}),e.jsxs(l,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:_,children:[e.jsx(Ae,{className:"h-4 w-4"}),"Copiar"]})]})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-48 h-48 mx-auto border-2 border-dashed rounded-lg flex items-center justify-center mb-4",children:e.jsx(Y,{className:"h-16 w-16 text-gray-300"})}),e.jsx("p",{className:"text-gray-500",children:"Complete los datos del documento y genere un código QR"})]})})})]})}),e.jsxs(ie,{value:"import",className:"space-y-4 mt-4",children:[e.jsx(b,{className:"overflow-hidden",children:e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(Me,{className:"h-12 w-12 text-[#2d219b] mx-auto"}),e.jsx("h3",{className:"mt-2 text-lg font-medium",children:"Escanear QR de documento"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Escanee un código QR para importar rápidamente los datos del documento"})]}),e.jsxs(ee,{open:R,onOpenChange:V,children:[e.jsx(se,{asChild:!0,children:e.jsxs(l,{className:"gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Abrir escáner QR"]})}),e.jsxs(ae,{className:"sm:max-w-md",children:[e.jsxs(te,{children:[e.jsx(re,{children:"Escanear código QR"}),e.jsx(le,{children:"Apunte la cámara hacia un código QR de documento para importarlo"})]}),n?e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(pe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Documento detectado"}),e.jsx("p",{className:"text-sm text-gray-500",children:"QR escaneado correctamente"})]})]}),e.jsx("div",{className:"space-y-3 mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Título"}),e.jsx("p",{className:"text-sm font-medium",children:n.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tipo"}),e.jsx("p",{className:"text-sm font-medium capitalize",children:n.type})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Descripción"}),e.jsx("p",{className:"text-sm",children:n.description})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatario"}),e.jsx("p",{className:"text-sm",children:n.recipient})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fecha exp."}),e.jsx("p",{className:"text-sm",children:n.expiryDate||"No definida"})]})]})})]}):e.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg bg-black",children:[e.jsx("video",{ref:r,className:"h-full w-full object-cover",autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:()=>P()}),e.jsx("canvas",{ref:h,className:"hidden"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"border-2 border-white border-dashed w-3/4 h-3/4 rounded-lg opacity-70"})})]}),e.jsx(Te,{className:"sm:justify-between",children:n?e.jsxs(e.Fragment,{children:[e.jsxs(l,{type:"button",variant:"outline",onClick:()=>{p(null),P()},className:"gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Escanear otro"]}),e.jsx(l,{type:"button",onClick:x,disabled:O,className:"gap-2",children:O?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Importando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{children:"Importar documento"})]})})]}):e.jsxs(l,{type:"button",variant:"outline",onClick:()=>V(!1),className:"gap-2",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Cancelar"]})})]})]}),e.jsxs("div",{className:"mt-8 p-5 border border-dashed rounded-lg",children:[e.jsx(Ve,{className:"h-10 w-10 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"También puede arrastrar y soltar un archivo de código QR aquí"}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{htmlFor:"qr-file-input",className:"inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-md border border-gray-300 hover:bg-gray-50 cursor-pointer",children:[e.jsx(J,{className:"h-4 w-4"}),"Seleccionar archivo"]}),e.jsx("input",{id:"qr-file-input",type:"file",accept:"image/*",className:"hidden",onChange:()=>{setTimeout(()=>{const a={id:`doc-${Date.now()}`,title:"Certificado de Constitución",type:"certificado",description:"Certificado legal para socio VecinoXpress",recipient:"Farmacia Vida",generatedAt:new Date().toISOString(),expiryDate:"2026-05-31"};p(a),V(!0),d({title:"QR detectado en imagen",description:"Se ha detectado un documento en la imagen"})},1500)}})]})]})]})})}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"¿Cómo funciona?"}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Los códigos QR contienen información estructurada sobre los documentos, permitiendo compartir e importar rápidamente datos entre dispositivos. Para mayor seguridad, los documentos importados requerirán validación adicional."})]})]})]})})},rs=({onImportComplete:f})=>{const[H,U]=i.useState("csv"),[m,j]=i.useState(""),[F,A]=i.useState(""),[L,M]=i.useState("contrato"),[R,V]=i.useState("legal"),[n,p]=i.useState(!1),[O,g]=i.useState(0),[r,h]=i.useState(null),{toast:d}=Se(),v=()=>{if(!m.trim()){d({title:"Error",description:"Por favor ingrese datos CSV para procesar",variant:"destructive"});return}p(!0),g(0),h(null);const c=m.trim().split(`
`).filter(q=>q.trim()),x=c[0],a=c.slice(1),o=a.length;if(o===0){d({title:"Error",description:"El CSV no contiene datos a procesar",variant:"destructive"}),p(!1);return}const u=x.split(",").map(q=>q.trim()),B=["title","type","partner"].filter(q=>!u.includes(q));if(B.length>0){d({title:"Error en formato CSV",description:`Faltan columnas requeridas: ${B.join(", ")}`,variant:"destructive"}),p(!1);return}let s=0,E=0,K=0;const W=[],ce=setInterval(()=>{if(s>=o){clearInterval(ce),p(!1),g(100),h({total:o,successful:E,failed:K,documents:W}),f&&f(W),d({title:"Importación completada",description:`${E} de ${o} documentos importados con éxito`,variant:E===o?"default":"destructive"});return}const Ie=a[s].split(",").map(ne=>ne.trim()),X={};u.forEach((ne,ke)=>{X[ne]=Ie[ke]||""}),X.title&&X.type?(E++,W.push({id:Date.now()+s,title:X.title,type:X.type,category:R,status:"draft",createdAt:new Date().toISOString(),partner:X.partner||"No especificado",fileSize:"0 KB",version:"1.0",author:"Sistema",pendingSignatures:0,totalSignatures:0})):K++,s++,g(Math.floor(s/o*100))},200)},G=()=>{if(!F.trim()){d({title:"Error",description:"Por favor ingrese una ruta de carpeta",variant:"destructive"});return}p(!0),g(0),h(null);const c=[{name:"Contrato_Arriendo_001.pdf",size:"1.2 MB",type:"application/pdf"},{name:"Certificado_Autenticidad.docx",size:"580 KB",type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{name:"Acuerdo_Nivel_Servicio.pdf",size:"920 KB",type:"application/pdf"},{name:"Solicitud_Ingreso_Socio.doc",size:"760 KB",type:"application/msword"},{name:"Declaracion_Conformidad.pdf",size:"450 KB",type:"application/pdf"}],x=c.length;let a=0;const o=[],u=setInterval(()=>{if(a>=x){clearInterval(u),p(!1),g(100),h({total:x,successful:x,failed:0,documents:o}),f&&f(o),d({title:"Importación de carpeta completada",description:`${x} documentos importados con éxito desde la carpeta`});return}const Q=c[a],B=Q.name.replace(/\.[^/.]+$/,"").replace(/_/g," ");o.push({id:Date.now()+a,title:B,type:_(Q.name),category:R,status:"draft",createdAt:new Date().toISOString(),partner:"Carga desde carpeta",fileSize:Q.size,version:"1.0",author:"Sistema",pendingSignatures:0,totalSignatures:0}),a++,g(Math.floor(a/x*100))},500)},_=c=>(c=c.toLowerCase(),c.includes("contrato")||c.includes("acuerdo")?"contrato":c.includes("certificado")||c.includes("autenticidad")?"certificado":c.includes("solicitud")||c.includes("formulario")?"formulario":c.includes("declaracion")?"declaracion":L),P=()=>{h(null),g(0),j(""),A("")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ve,{defaultValue:"csv",value:H,onValueChange:U,children:[e.jsxs(fe,{className:"grid grid-cols-2",children:[e.jsxs(k,{value:"csv",className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Importar desde CSV"]}),e.jsxs(k,{value:"folder",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Importar desde carpeta"]})]}),e.jsxs(ie,{value:"csv",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"csv-data",children:"Datos CSV"}),e.jsx(De,{id:"csv-data",placeholder:`title,type,partner
Contrato de Arriendo,contrato,Minimarket El Sol
Certificado Legal,certificado,Farmacia Vida`,className:"min-h-[150px] font-mono text-sm",value:m,onChange:c=>j(c.target.value),disabled:n}),e.jsx("p",{className:"text-xs text-gray-500",children:"Formato: un documento por línea, con las columnas: title, type, partner (requeridas)"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"doc-type",children:"Tipo de documento por defecto"}),e.jsxs(w,{value:L,onValueChange:M,disabled:n,children:[e.jsx(S,{id:"doc-type",children:e.jsx(D,{placeholder:"Seleccionar tipo"})}),e.jsxs(T,{children:[e.jsx(t,{value:"contrato",children:"Contrato"}),e.jsx(t,{value:"certificado",children:"Certificado"}),e.jsx(t,{value:"formulario",children:"Formulario"}),e.jsx(t,{value:"declaracion",children:"Declaración"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Se usará si no se especifica en el CSV"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"doc-category",children:"Categoría de documentos"}),e.jsxs(w,{value:R,onValueChange:V,disabled:n,children:[e.jsx(S,{id:"doc-category",children:e.jsx(D,{placeholder:"Seleccionar categoría"})}),e.jsxs(T,{children:[e.jsx(t,{value:"legal",children:"Legal"}),e.jsx(t,{value:"comercial",children:"Comercial"}),e.jsx(t,{value:"administrativo",children:"Administrativo"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Se aplicará a todos los documentos"})]})]})]}),e.jsxs(ie,{value:"folder",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"folder-path",children:"Ruta de la carpeta"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Z,{id:"folder-path",placeholder:"/ruta/a/documentos",value:F,onChange:c=>A(c.target.value),disabled:n}),e.jsx(l,{variant:"outline",type:"button",onClick:()=>A("/documentos/importacion_lote"),disabled:n,children:"Examinar"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Se importarán todos los documentos PDF, DOC y DOCX de la carpeta"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"doc-type-folder",children:"Tipo de documento por defecto"}),e.jsxs(w,{value:L,onValueChange:M,disabled:n,children:[e.jsx(S,{id:"doc-type-folder",children:e.jsx(D,{placeholder:"Seleccionar tipo"})}),e.jsxs(T,{children:[e.jsx(t,{value:"contrato",children:"Contrato"}),e.jsx(t,{value:"certificado",children:"Certificado"}),e.jsx(t,{value:"formulario",children:"Formulario"}),e.jsx(t,{value:"declaracion",children:"Declaración"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Se intentará determinar el tipo según el nombre o se usará este valor"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"doc-category-folder",children:"Categoría de documentos"}),e.jsxs(w,{value:R,onValueChange:V,disabled:n,children:[e.jsx(S,{id:"doc-category-folder",children:e.jsx(D,{placeholder:"Seleccionar categoría"})}),e.jsxs(T,{children:[e.jsx(t,{value:"legal",children:"Legal"}),e.jsx(t,{value:"comercial",children:"Comercial"}),e.jsx(t,{value:"administrativo",children:"Administrativo"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Se aplicará a todos los documentos de la carpeta"})]})]})]})]}),n&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Procesando documentos..."}),e.jsxs("span",{children:[O,"%"]})]}),e.jsx(Fe,{value:O,className:"h-2"})]}),r&&e.jsx(b,{children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Resultados de la importación"}),e.jsx(l,{variant:"ghost",size:"icon",onClick:P,children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[e.jsx(es,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold",children:r.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total procesados"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[e.jsx(Re,{className:"h-5 w-5 text-green-500 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.successful}),e.jsx("p",{className:"text-sm text-gray-500",children:"Importados con éxito"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg text-center",children:[e.jsx(Ne,{className:"h-5 w-5 text-red-500 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.failed}),e.jsx("p",{className:"text-sm text-gray-500",children:"Fallidos"})]})]}),r.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Documentos importados:"}),e.jsx("div",{className:"max-h-[200px] overflow-y-auto border rounded-md p-2",children:e.jsx("ul",{className:"space-y-2",children:r.documents.map((c,x)=>e.jsxs("li",{className:"text-sm flex justify-between items-center border-b pb-2 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-[#2d219b]"}),e.jsx("span",{children:c.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",className:"capitalize",children:c.type}),e.jsx(N,{variant:"secondary",children:"Borrador"})]})]},x))})})]})]})})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(l,{variant:"outline",type:"button",disabled:n,onClick:P,children:"Cancelar"}),e.jsx(l,{type:"button",disabled:n||H==="csv"&&!m.trim()||H==="folder"&&!F.trim(),onClick:H==="csv"?v:G,children:n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),e.jsx("span",{children:"Procesando..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{children:"Importar documentos"})]})})]})]})},ds=()=>{const[f,H]=i.useState(""),[U,m]=i.useState("all"),[j,F]=i.useState("all"),[A,L]=i.useState("all"),[M,R]=i.useState("all"),[V,n]=i.useState(!1),[p,O]=i.useState(!1),[g,r]=i.useState(!1),[h,d]=i.useState([]),v=[{id:1,title:"Contrato de Arriendo Local Comercial",type:"contrato",category:"legal",status:"signed",createdAt:"2025-04-28T14:30:00",partner:"Minimarket El Sol",fileSize:"1.2 MB",version:"1.0",author:"Carlos Mendoza",pendingSignatures:0,totalSignatures:2},{id:2,title:"Solicitud de Ingreso Socio VecinoXpress",type:"formulario",category:"administrativo",status:"pending",createdAt:"2025-05-01T09:45:00",partner:"Farmacia Vida",fileSize:"850 KB",version:"1.0",author:"Ana Silva",pendingSignatures:1,totalSignatures:2},{id:3,title:"Certificado de Constitución",type:"certificado",category:"legal",status:"validated",createdAt:"2025-04-20T11:15:00",partner:"Minimarket El Sol",fileSize:"1.5 MB",version:"1.0",author:"Juan Carrasco",pendingSignatures:0,totalSignatures:1},{id:4,title:"Contrato de Servicios VecinoXpress",type:"contrato",category:"comercial",status:"draft",createdAt:"2025-05-02T16:20:00",partner:"Librería Central",fileSize:"920 KB",version:"0.9",author:"Carlos Mendoza",pendingSignatures:0,totalSignatures:0},{id:5,title:"Declaración de Cumplimiento Normativo",type:"declaracion",category:"legal",status:"signed",createdAt:"2025-04-15T10:30:00",partner:"Farmacia Vida",fileSize:"750 KB",version:"1.0",author:"Ana Silva",pendingSignatures:0,totalSignatures:1},{id:6,title:"Acuerdo de Nivel de Servicio",type:"contrato",category:"comercial",status:"rejected",createdAt:"2025-04-25T13:40:00",partner:"Café Internet Speed",fileSize:"980 KB",version:"1.1",author:"Juan Carrasco",pendingSignatures:0,totalSignatures:2},{id:7,title:"Certificado de Autenticidad Firma",type:"certificado",category:"legal",status:"validated",createdAt:"2025-05-03T09:15:00",partner:"Ferretería Construmax",fileSize:"450 KB",version:"1.0",author:"Carlos Mendoza",pendingSignatures:0,totalSignatures:1}],G=[{id:"legal",name:"Legal",count:4},{id:"comercial",name:"Comercial",count:2},{id:"administrativo",name:"Administrativo",count:1}],_=[{id:"contrato",name:"Contrato",count:3},{id:"certificado",name:"Certificado",count:2},{id:"formulario",name:"Formulario",count:1},{id:"declaracion",name:"Declaración",count:1}],P=[{id:"minimarket-el-sol",name:"Minimarket El Sol",count:2},{id:"farmacia-vida",name:"Farmacia Vida",count:2},{id:"libreria-central",name:"Librería Central",count:1},{id:"cafe-internet-speed",name:"Café Internet Speed",count:1},{id:"ferreteria-construmax",name:"Ferretería Construmax",count:1}],c=[{id:1,type:"upload",document:"Contrato de Arriendo Local Comercial",user:"Carlos Mendoza",date:"2025-05-03T14:30:00"},{id:2,type:"sign",document:"Certificado de Autenticidad Firma",user:"Juan Carrasco",date:"2025-05-03T11:45:00"},{id:3,type:"validate",document:"Certificado de Constitución",user:"Ana Silva",date:"2025-05-02T16:20:00"},{id:4,type:"reject",document:"Acuerdo de Nivel de Servicio",user:"Carlos Mendoza",date:"2025-05-01T09:10:00"},{id:5,type:"comment",document:"Solicitud de Ingreso Socio VecinoXpress",user:"Ana Silva",date:"2025-04-30T13:55:00"}],x={total:7,signed:2,pending:1,validated:2,draft:1,rejected:1,thisMonth:5,lastMonth:2,signatureRate:85},a=v.filter(s=>{const E=U==="all"||s.status===U,K=j==="all"||s.category===j,W=A==="all"||s.type===A,ce=M==="all"||s.partner===M,q=s.title.toLowerCase().includes(f.toLowerCase())||s.partner.toLowerCase().includes(f.toLowerCase());return E&&K&&W&&ce&&q}),o=s=>{switch(s){case"draft":return e.jsx(N,{variant:"outline",children:"Borrador"});case"pending":return e.jsx(N,{variant:"secondary",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Pendiente"});case"validated":return e.jsx(N,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Validado"});case"signed":return e.jsx(N,{className:"bg-green-500 hover:bg-green-600 text-white",children:"Firmado"});case"rejected":return e.jsx(N,{variant:"destructive",children:"Rechazado"});default:return e.jsx(N,{variant:"outline",children:s})}},u=s=>ye(new Date(s),"d 'de' MMMM, yyyy",{locale:Ce}),Q=s=>{h.includes(s)?d(h.filter(E=>E!==s)):d([...h,s])},B=()=>{h.length===a.length?d([]):d(a.map(s=>s.id))};return e.jsx(Ye,{title:"Gestor Documental",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(b,{className:"border-0 shadow-md",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total documentos"}),e.jsx("h3",{className:"text-2xl font-bold mt-1 text-[#2d219b]",children:x.total}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"En plataforma"})]}),e.jsx("div",{className:"p-2 bg-[#2d219b] bg-opacity-10 rounded-full",children:e.jsx(I,{className:"h-5 w-5 text-[#2d219b]"})})]})})}),e.jsx(b,{className:"border-0 shadow-md",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documentos firmados"}),e.jsx("h3",{className:"text-2xl font-bold mt-1 text-[#2d219b]",children:x.signed}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["De ",x.total," documentos"]})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(pe,{className:"h-5 w-5 text-green-600"})})]})})}),e.jsx(b,{className:"border-0 shadow-md",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes de firma"}),e.jsx("h3",{className:"text-2xl font-bold mt-1 text-[#2d219b]",children:x.pending}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requieren acción"})]}),e.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:e.jsx(ze,{className:"h-5 w-5 text-amber-600"})})]})})}),e.jsx(b,{className:"border-0 shadow-md",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Este mes"}),e.jsx("h3",{className:"text-2xl font-bold mt-1 text-[#2d219b]",children:x.thisMonth}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["+",x.thisMonth-x.lastMonth," que mes pasado"]})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Le,{className:"h-5 w-5 text-blue-600"})})]})})}),e.jsx(b,{className:"border-0 shadow-md",children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tasa de firmas"}),e.jsx("div",{className:"p-2 bg-[#2d219b] bg-opacity-10 rounded-full",children:e.jsx(I,{className:"h-5 w-5 text-[#2d219b]"})})]}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-2xl font-bold text-[#2d219b]",children:[x.signatureRate,"%"]}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"+5% vs mes anterior"})]}),e.jsx(Fe,{value:x.signatureRate,className:"h-2"})]})]})})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{open:V,onOpenChange:n,children:[e.jsx(se,{asChild:!0,children:e.jsxs(l,{className:"gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Subir documento"]})}),e.jsxs(ae,{children:[e.jsxs(te,{children:[e.jsx(re,{children:"Subir nuevo documento"}),e.jsx(le,{children:"Cargue un documento para añadirlo al sistema. Se admiten archivos PDF, DOC, DOCX."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[e.jsx(J,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Arrastre archivos aquí o haga clic para buscar"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Máximo 10MB por archivo"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"docType",children:"Tipo de documento"}),e.jsxs(w,{defaultValue:"contrato",children:[e.jsx(S,{id:"docType",children:e.jsx(D,{placeholder:"Seleccionar tipo"})}),e.jsxs(T,{children:[e.jsx(t,{value:"contrato",children:"Contrato"}),e.jsx(t,{value:"certificado",children:"Certificado"}),e.jsx(t,{value:"formulario",children:"Formulario"}),e.jsx(t,{value:"declaracion",children:"Declaración"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"docCategory",children:"Categoría"}),e.jsxs(w,{defaultValue:"legal",children:[e.jsx(S,{id:"docCategory",children:e.jsx(D,{placeholder:"Seleccionar categoría"})}),e.jsxs(T,{children:[e.jsx(t,{value:"legal",children:"Legal"}),e.jsx(t,{value:"comercial",children:"Comercial"}),e.jsx(t,{value:"administrativo",children:"Administrativo"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",htmlFor:"docPartner",children:"Socio relacionado"}),e.jsxs(w,{children:[e.jsx(S,{id:"docPartner",children:e.jsx(D,{placeholder:"Seleccionar socio (opcional)"})}),e.jsx(T,{children:P.map(s=>e.jsx(t,{value:s.id,children:s.name},s.id))})]})]})]}),e.jsxs(Te,{children:[e.jsx(l,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsx(l,{type:"submit",children:"Subir documento"})]})]})]}),e.jsxs(ee,{open:p,onOpenChange:O,children:[e.jsx(se,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Códigos QR"]})}),e.jsxs(ae,{className:"max-w-3xl",children:[e.jsxs(te,{children:[e.jsx(re,{children:"Generador de códigos QR para documentos"}),e.jsx(le,{children:"Genere códigos QR para compartir documentos o escanee documentos desde códigos QR"})]}),e.jsx(ts,{onDocumentImport:s=>{console.log("Documento importado:",s),O(!1)}})]})]}),e.jsxs(ee,{open:g,onOpenChange:r,children:[e.jsx(se,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Importar Lote"]})}),e.jsxs(ae,{className:"max-w-3xl",children:[e.jsxs(te,{children:[e.jsx(re,{children:"Importación Masiva de Documentos"}),e.jsx(le,{children:"Importe múltiples documentos desde un archivo CSV o carpeta"})]}),e.jsx(rs,{onImportComplete:s=>{console.log("Documentos importados:",s),r(!1)}})]})]}),e.jsxs(l,{variant:"outline",className:"gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Nueva categoría"]}),h.length>0&&e.jsxs(l,{variant:"secondary",className:"gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Descargar (",h.length,")"]})]}),e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(Z,{placeholder:"Buscar por título o socio...",className:"pl-10",value:f,onChange:s=>H(s.target.value)})]})]}),e.jsxs(b,{className:"border-0 shadow-md",children:[e.jsxs(de,{className:"pb-0",children:[e.jsx(oe,{children:"Documentos"}),e.jsx(me,{children:"Gestión centralizada de todos los documentos en la plataforma"})]}),e.jsxs(y,{className:"pt-6",children:[e.jsx(ve,{value:U,onValueChange:m,className:"mb-6",children:e.jsxs(fe,{className:"grid grid-cols-6",children:[e.jsxs(k,{value:"all",className:"text-sm",children:["Todos (",v.length,")"]}),e.jsxs(k,{value:"signed",className:"text-sm",children:["Firmados (",v.filter(s=>s.status==="signed").length,")"]}),e.jsxs(k,{value:"pending",className:"text-sm",children:["Pendientes (",v.filter(s=>s.status==="pending").length,")"]}),e.jsxs(k,{value:"validated",className:"text-sm",children:["Validados (",v.filter(s=>s.status==="validated").length,")"]}),e.jsxs(k,{value:"draft",className:"text-sm",children:["Borradores (",v.filter(s=>s.status==="draft").length,")"]}),e.jsxs(k,{value:"rejected",className:"text-sm",children:["Rechazados (",v.filter(s=>s.status==="rejected").length,")"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(w,{value:j,onValueChange:F,children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Filtrar por categoría"})}),e.jsxs(T,{children:[e.jsx(t,{value:"all",children:"Todas las categorías"}),G.map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.count,")"]},s.id))]})]}),e.jsxs(w,{value:A,onValueChange:L,children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Filtrar por tipo"})}),e.jsxs(T,{children:[e.jsx(t,{value:"all",children:"Todos los tipos"}),_.map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.count,")"]},s.id))]})]}),e.jsxs(w,{value:M,onValueChange:R,children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Filtrar por socio"})}),e.jsxs(T,{children:[e.jsx(t,{value:"all",children:"Todos los socios"}),P.map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.count,")"]},s.id))]})]})]}),e.jsx("div",{className:"rounded-md border overflow-hidden",children:e.jsxs(Pe,{children:[e.jsx(Be,{children:e.jsxs(xe,{children:[e.jsx($,{className:"w-12",children:e.jsx(be,{checked:h.length===a.length&&a.length>0,onCheckedChange:B,"aria-label":"Seleccionar todos"})}),e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Documento"}),e.jsx(qe,{className:"h-3 w-3"})]})}),e.jsx($,{children:"Socio"}),e.jsx($,{children:"Estado"}),e.jsx($,{children:"Tipo"}),e.jsx($,{children:"Fecha"}),e.jsx($,{children:"Tamaño"}),e.jsx($,{})]})}),e.jsx($e,{children:a.length===0?e.jsx(xe,{children:e.jsxs(z,{colSpan:8,className:"text-center py-10",children:[e.jsx(I,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium mb-1",children:"No se encontraron documentos"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Intente con otros criterios de búsqueda"})]})}):a.map(s=>e.jsxs(xe,{children:[e.jsx(z,{children:e.jsx(be,{checked:h.includes(s.id),onCheckedChange:()=>Q(s.id),"aria-label":`Seleccionar ${s.title}`})}),e.jsx(z,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-[#2d219b]/10 rounded",children:e.jsx(I,{className:"h-4 w-4 text-[#2d219b]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Versión ",s.version," • ",s.author]})]})]})}),e.jsx(z,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:s.partner})]})}),e.jsx(z,{children:o(s.status)}),e.jsx(z,{children:e.jsx(N,{variant:"outline",className:"capitalize",children:s.type})}),e.jsx(z,{children:e.jsx("div",{className:"text-sm",children:u(s.createdAt)})}),e.jsx(z,{children:e.jsx("div",{className:"text-sm text-gray-500",children:s.fileSize})}),e.jsx(z,{children:e.jsxs(Ue,{children:[e.jsx(Ge,{asChild:!0,children:e.jsx(l,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(_e,{className:"h-4 w-4"})})}),e.jsx(Ke,{className:"w-56",align:"end",children:e.jsxs("div",{className:"grid gap-1",children:[e.jsxs(l,{variant:"ghost",className:"justify-start gap-2 text-sm",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Ver documento"]}),e.jsxs(l,{variant:"ghost",className:"justify-start gap-2 text-sm",children:[e.jsx(ue,{className:"h-4 w-4"}),"Descargar"]}),e.jsxs(l,{variant:"ghost",className:"justify-start gap-2 text-sm",children:[e.jsx(Je,{className:"h-4 w-4"}),"Editar detalles"]}),e.jsxs(l,{variant:"ghost",className:"justify-start gap-2 text-sm text-red-600 hover:text-red-600 hover:bg-red-50",children:[e.jsx(We,{className:"h-4 w-4"}),"Eliminar"]})]})})]})})]},s.id))})]})})]}),e.jsxs(Ze,{className:"flex justify-between border-t pt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",a.length," de ",v.length," documentos"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(l,{variant:"outline",size:"sm",disabled:!0,children:"Siguiente"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{className:"border-0 shadow-md lg:col-span-2",children:[e.jsxs(de,{children:[e.jsx(oe,{children:"Actividad reciente"}),e.jsx(me,{children:"Últimas acciones realizadas en documentos"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"space-y-6",children:c.map(s=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`p-2 rounded-full ${s.type==="upload"?"bg-blue-100":s.type==="sign"?"bg-green-100":s.type==="validate"?"bg-purple-100":s.type==="reject"?"bg-red-100":"bg-gray-100"}`,children:[s.type==="upload"&&e.jsx(J,{className:"h-4 w-4 text-blue-600"}),s.type==="sign"&&e.jsx(Re,{className:"h-4 w-4 text-green-600"}),s.type==="validate"&&e.jsx(pe,{className:"h-4 w-4 text-purple-600"}),s.type==="reject"&&e.jsx(Ne,{className:"h-4 w-4 text-red-600"}),s.type==="comment"&&e.jsx(I,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[e.jsx("p",{className:"font-medium text-sm",children:s.document}),e.jsx("span",{className:"text-xs text-gray-500",children:ye(new Date(s.date),"d MMM, HH:mm",{locale:Ce})})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.type==="upload"&&`${s.user} subió un nuevo documento`,s.type==="sign"&&`${s.user} firmó el documento`,s.type==="validate"&&`${s.user} validó el documento`,s.type==="reject"&&`${s.user} rechazó el documento`,s.type==="comment"&&`${s.user} comentó en el documento`]})]})]},s.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs(l,{variant:"ghost",className:"text-sm gap-2",children:[e.jsx(as,{className:"h-4 w-4"}),"Ver todo el historial"]})})]})]}),e.jsxs(b,{className:"border-0 shadow-md",children:[e.jsxs(de,{children:[e.jsx(oe,{children:"Categorías de documentos"}),e.jsx(me,{children:"Documentos por tipo y categoría"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"space-y-4",children:G.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s.id==="legal"?"bg-blue-100":s.id==="comercial"?"bg-green-100":"bg-purple-100"}`,children:e.jsx(I,{className:`h-4 w-4 ${s.id==="legal"?"text-blue-600":s.id==="comercial"?"text-green-600":"text-purple-600"}`})}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsx(N,{variant:"outline",children:s.count})]},s.id))}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-sm font-medium mb-4",children:"Tipos de documento"}),e.jsx("div",{className:"space-y-3",children:_.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.id==="contrato"&&e.jsx(I,{className:"h-4 w-4 text-blue-500"}),s.id==="certificado"&&e.jsx(je,{className:"h-4 w-4 text-green-500"}),s.id==="formulario"&&e.jsx(I,{className:"h-4 w-4 text-amber-500"}),s.id==="declaracion"&&e.jsx(I,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-sm capitalize",children:s.name})]}),e.jsx(N,{variant:"outline",children:s.count})]},s.id))})]}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs(l,{className:"w-full gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Crear nueva categoría"]})})]})]})]})]})})};export{ds as default};
