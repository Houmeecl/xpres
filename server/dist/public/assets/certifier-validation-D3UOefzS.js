import{c as P,r as i,aG as Y,j as e,a as u,e as p,b as Q,d as ee,f as se,aF as ae,I as te,T as le,i as ne,k as N,n as ce,aS as ie,aT as re,aU as y,aV as r,Y as z,aW as de,aX as n,F as w,aP as o,B as l,E as oe,ap as C,x as me,D as L,ar as A,as as E,at as M,au as B,av as F,K as xe,aa as he,aw as I,aZ as je}from"./index-Bdt7aQY8.js";import{V as ue}from"./VecinosAdminLayout-BVBfj647.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=P("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=P("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),v=[{id:"DOC-001-2025",title:"Contrato de Arriendo",status:"pending",submittedBy:"Minimarket El Sol",clientName:"Juan Pérez González",clientRut:"12.345.678-9",date:"2025-05-01",notes:"",hasNfc:!0,partner:{name:"Minimarket El Sol",id:1,location:"Santiago, RM"}},{id:"DOC-002-2025",title:"Declaración Jurada",status:"pending",submittedBy:"Farmacia Vida",clientName:"María López Silva",clientRut:"11.222.333-4",date:"2025-05-01",notes:"",hasNfc:!0,partner:{name:"Farmacia Vida",id:2,location:"Las Condes, RM"}},{id:"DOC-003-2025",title:"Poder Notarial Simple",status:"in_review",submittedBy:"Minimarket El Sol",clientName:"Carlos Rodríguez Muñoz",clientRut:"9.876.543-2",date:"2025-04-30",notes:"El cliente solicita urgencia en la validación",hasNfc:!0,partner:{name:"Minimarket El Sol",id:1,location:"Santiago, RM"}},{id:"DOC-004-2025",title:"Finiquito Laboral",status:"approved",submittedBy:"Librería Central",clientName:"Ana Martínez Pérez",clientRut:"14.789.632-5",date:"2025-04-29",notes:"Documentación completa y verificada",hasNfc:!0,partner:{name:"Librería Central",id:3,location:"Providencia, RM"}},{id:"DOC-005-2025",title:"Mandato",status:"rejected",submittedBy:"Farmacia Vida",clientName:"Pedro Sánchez Rojas",clientRut:"16.987.456-2",date:"2025-04-28",notes:"Documentación incompleta, falta firma del mandante",hasNfc:!1,partner:{name:"Farmacia Vida",id:2,location:"Las Condes, RM"}}],ve=()=>{const[b,H]=i.useState(""),[m,U]=i.useState("all"),[c,f]=i.useState([]),[_,x]=i.useState(!1),[a,g]=i.useState(null),[q,d]=i.useState(!1),[Z,D]=i.useState(""),[S,R]=i.useState(""),{toast:T}=Y(),h=()=>{let s=v;if(m!=="all"&&(s=s.filter(t=>t.status===m)),b){const t=b.toLowerCase();s=s.filter(j=>j.title.toLowerCase().includes(t)||j.id.toLowerCase().includes(t)||j.clientName.toLowerCase().includes(t)||j.clientRut.toLowerCase().includes(t)||j.submittedBy.toLowerCase().includes(t))}return s},$=s=>{c.includes(s)?f(c.filter(t=>t!==s)):f([...c,s])},G=()=>{const s=h().map(t=>t.id);c.length===s.length?f([]):f(s)},J=()=>{a&&(T({title:"Documento aprobado",description:`El documento ${a.id} ha sido aprobado y enviado al cliente.`,variant:"default"}),d(!1),D(""))},X=()=>{a&&(T({title:"Documento rechazado",description:`El documento ${a.id} ha sido rechazado. Se ha notificado al socio.`,variant:"destructive"}),d(!1),R(""))},K=s=>{g(s),x(!0)},W=s=>{g(s),d(!0)},k=s=>{switch(s){case"pending":return e.jsx(o,{className:"bg-amber-500",children:"Pendiente"});case"in_review":return e.jsx(o,{className:"bg-blue-500",children:"En revisión"});case"approved":return e.jsx(o,{className:"bg-green-500",children:"Aprobado"});case"rejected":return e.jsx(o,{className:"bg-red-500",children:"Rechazado"});default:return e.jsx(o,{className:"bg-gray-500",children:"Desconocido"})}};return e.jsxs(ue,{title:"Certificación de Documentos",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(u,{children:e.jsx(p,{className:"p-4 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("span",{className:"text-3xl font-bold text-amber-600",children:v.filter(s=>s.status==="pending").length}),e.jsx("span",{className:"text-sm text-gray-500",children:"Pendientes"})]})})}),e.jsx(u,{children:e.jsx(p,{className:"p-4 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:v.filter(s=>s.status==="in_review").length}),e.jsx("span",{className:"text-sm text-gray-500",children:"En revisión"})]})})}),e.jsx(u,{children:e.jsx(p,{className:"p-4 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600",children:v.filter(s=>s.status==="approved").length}),e.jsx("span",{className:"text-sm text-gray-500",children:"Aprobados"})]})})}),e.jsx(u,{children:e.jsx(p,{className:"p-4 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("span",{className:"text-3xl font-bold text-red-600",children:v.filter(s=>s.status==="rejected").length}),e.jsx("span",{className:"text-sm text-gray-500",children:"Rechazados"})]})})})]}),e.jsxs(u,{children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{children:"Documentos para certificación"}),e.jsx(se,{children:"Revise y valide los documentos enviados por los socios"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(te,{placeholder:"Buscar documento...",className:"pl-9 w-full sm:w-64",value:b,onChange:s=>H(s.target.value)})]})})]})}),e.jsx(p,{className:"p-0",children:e.jsxs(le,{defaultValue:"all",value:m,onValueChange:U,className:"w-full",children:[e.jsx("div",{className:"border-b",children:e.jsxs(ne,{className:"bg-transparent -mb-px mx-6",children:[e.jsx(N,{value:"all",className:"data-[state=active]:border-b-2 data-[state=active]:border-amber-500 data-[state=active]:shadow-none rounded-none",children:"Todos"}),e.jsx(N,{value:"pending",className:"data-[state=active]:border-b-2 data-[state=active]:border-amber-500 data-[state=active]:shadow-none rounded-none",children:"Pendientes"}),e.jsx(N,{value:"in_review",className:"data-[state=active]:border-b-2 data-[state=active]:border-amber-500 data-[state=active]:shadow-none rounded-none",children:"En revisión"}),e.jsx(N,{value:"approved",className:"data-[state=active]:border-b-2 data-[state=active]:border-amber-500 data-[state=active]:shadow-none rounded-none",children:"Aprobados"}),e.jsx(N,{value:"rejected",className:"data-[state=active]:border-b-2 data-[state=active]:border-amber-500 data-[state=active]:shadow-none rounded-none",children:"Rechazados"})]})}),e.jsx(ce,{value:m,className:"pt-0 pb-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ie,{children:[e.jsx(re,{children:e.jsxs(y,{children:[e.jsx(r,{className:"w-10",children:e.jsx(z,{checked:h().length>0&&h().every(s=>c.includes(s.id)),onCheckedChange:G,"aria-label":"Seleccionar todos"})}),e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Documento"}),e.jsx(r,{children:"Cliente"}),e.jsx(r,{children:"Socio"}),e.jsx(r,{children:"Fecha"}),e.jsx(r,{children:"Estado"}),e.jsx(r,{className:"text-right",children:"Acciones"})]})}),e.jsxs(de,{children:[h().map(s=>e.jsxs(y,{children:[e.jsx(n,{children:e.jsx(z,{checked:c.includes(s.id),onCheckedChange:()=>$(s.id),"aria-label":`Seleccionar documento ${s.id}`})}),e.jsx(n,{className:"font-medium text-sm",children:s.id}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.title}),s.hasNfc&&e.jsx(o,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"NFC"})]})}),e.jsx(n,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.clientName}),e.jsx("div",{className:"text-xs text-gray-500",children:s.clientRut})]})}),e.jsx(n,{children:s.submittedBy}),e.jsx(n,{className:"text-sm",children:new Date(s.date).toLocaleDateString()}),e.jsx(n,{children:k(s.status)}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>K(s),children:e.jsx(oe,{className:"h-4 w-4"})}),s.status==="pending"&&e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>W(s),children:e.jsx(C,{className:"h-4 w-4 text-green-600"})})]})})]},s.id)),h().length===0&&e.jsx(y,{children:e.jsx(n,{colSpan:8,className:"h-32 text-center",children:"No se encontraron documentos"})})]})]})})})]})}),e.jsx(me,{className:"border-t bg-gray-50 p-3 px-6",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[c.length," documento(s) seleccionado(s)"]}),e.jsx("div",{className:"flex space-x-2",children:c.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Descargar seleccionados"]}),m==="pending"&&e.jsxs(l,{size:"sm",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Revisar seleccionados"]})]})})]})})]})]}),a&&e.jsx(A,{open:_,onOpenChange:x,children:e.jsxs(E,{className:"max-w-3xl",children:[e.jsxs(M,{children:[e.jsx(B,{children:"Detalle del documento"}),e.jsxs(F,{children:[a.id," - ",a.title]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("div",{className:"bg-gray-100 p-4 flex items-center justify-center h-64",children:e.jsx(w,{className:"h-16 w-16 text-gray-400"})})}),e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsxs(l,{variant:"outline",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Descargar documento"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-sm text-gray-500",children:"Información del documento"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estado:"}),e.jsx("span",{children:k(a.status)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo:"}),e.jsx("span",{className:"text-sm",children:a.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fecha:"}),e.jsx("span",{className:"text-sm",children:new Date(a.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ID:"}),e.jsx("span",{className:"text-sm",children:a.id})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-sm text-gray-500",children:"Cliente"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"h-8 w-8 text-gray-400 bg-gray-100 p-1.5 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.clientName}),e.jsx("p",{className:"text-xs text-gray-500",children:a.clientRut})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-sm text-gray-500",children:"Socio"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:a.submittedBy}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:new Date(a.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:["ID: ",a.id]})]})]})]}),a.notes&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-sm text-gray-500",children:"Notas"}),e.jsx("p",{className:"text-sm p-3 bg-gray-50 rounded-md",children:a.notes})]})]})]}),e.jsxs(I,{className:"gap-2 flex-wrap",children:[e.jsx(l,{variant:"outline",onClick:()=>x(!1),children:"Cerrar"}),a.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{variant:"destructive",onClick:()=>{x(!1),g(a),d(!0)},children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Rechazar"]}),e.jsxs(l,{onClick:()=>{x(!1),g(a),d(!0)},children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Aprobar"]})]})]})]})}),a&&e.jsx(A,{open:q,onOpenChange:d,children:e.jsxs(E,{children:[e.jsxs(M,{children:[e.jsx(B,{children:"Validación de documento"}),e.jsxs(F,{children:[a.id," - ",a.title]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{className:"p-3 rounded-full hover:bg-red-50 transition-colors",onClick:()=>{var s;return(s=document.getElementById("rejection-notes"))==null?void 0:s.focus()},children:e.jsx(V,{className:"h-12 w-12 text-red-500"})}),e.jsx("span",{className:"text-sm",children:"Rechazar"})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{className:"p-3 rounded-full hover:bg-green-50 transition-colors",onClick:()=>{var s;return(s=document.getElementById("approval-notes"))==null?void 0:s.focus()},children:e.jsx(O,{className:"h-12 w-12 text-green-500"})}),e.jsx("span",{className:"text-sm",children:"Aprobar"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Notas de aprobación"}),e.jsx("textarea",{id:"approval-notes",className:"w-full p-2 border rounded-md min-h-[100px]",placeholder:"Ingrese notas adicionales para la aprobación...",value:Z,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Motivo de rechazo"}),e.jsx("textarea",{id:"rejection-notes",className:"w-full p-2 border rounded-md min-h-[100px]",placeholder:"Ingrese el motivo del rechazo...",value:S,onChange:s=>R(s.target.value)})]})]}),e.jsxs(I,{className:"flex justify-between",children:[e.jsx(l,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(l,{variant:"destructive",onClick:X,disabled:!S.trim(),children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Rechazar documento"]}),e.jsxs(l,{onClick:J,children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Aprobar documento"]})]})]})]})})]})};export{ve as default};
