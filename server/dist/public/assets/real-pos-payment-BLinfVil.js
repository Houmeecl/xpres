import{aG as Ne,u as fe,bu as be,r as o,j as e,bq as ve,al as Q,am as k,ao as G,ap as A,B as c,F as ye,K as H,a as K,b as Y,d as Z,aP as I,e as ee,T as we,i as Se,k as R,M as O,n as V,bw as Ce,C as se,$,I as _,bx as Te,ba as ae,X as te,x as Pe,by as re,bz as X,bA as Ie,b4 as Ee}from"./index-Bdt7aQY8.js";import{S as ne,P as ce,I as Le}from"./IdentityVerification-CHyRbnlX.js";import{L as ke}from"./scan-C9uXCfh4.js";const g="LOCAL-XP125",Ve=()=>{const{toast:i}=Ne();fe();const{user:u}=be(),ie=[{label:"Inicio",href:"/"},{label:"POS Menu",href:"/pos-menu"},{label:"POS Real",href:"/real-pos-payment"}],[le,m]=o.useState("services"),[r,h]=o.useState([]),[t,p]=o.useState({name:"",email:"",document:""}),[E,v]=o.useState(!1),[M,y]=o.useState(!1),[D,N]=o.useState(null),[w,l]=o.useState(null),[U,x]=o.useState("idle"),[S,q]=o.useState("disconnected"),[oe,de]=o.useState(!1),[j,me]=o.useState(null),f=r.reduce((s,a)=>s+a.price*a.quantity,0),C=f*ce.TAX_RATE,T=f+C,z=f.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),F=C.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),L=T.toLocaleString("es-CL",{style:"currency",currency:"CLP"});o.useEffect(()=>{const s=()=>{q("disconnected"),setTimeout(()=>{q("connected"),i({title:"Terminal conectado",description:"Terminal de pago listo para usar"})},2e3)};s();const a=setInterval(s,6e4);return()=>clearInterval(a)},[]),o.useEffect(()=>{const s=new URLSearchParams(window.location.search),a=s.get("status"),n=s.get("reference");if(a&&n&&n.startsWith("TX-REAL-")){if(N(n),!t.name||!t.email)try{const d=localStorage.getItem(`tx_customer_${n}`);d&&p(JSON.parse(d))}catch(d){console.error("Error recuperando datos del cliente:",d)}if(r.length===0)try{const d=localStorage.getItem(`tx_cart_${n}`);d&&h(JSON.parse(d))}catch(d){console.error("Error recuperando items del carrito:",d)}a==="success"||a==="approved"?(y(!0),i({title:"Pago completado",description:`Transacción ${n} procesada exitosamente`})):a==="pending"?(m("payment"),l("Tu pago está en proceso de verificación. Una vez confirmado, actualizaremos el estado de tu transacción. No es necesario realizar el pago nuevamente."),i({title:"Pago pendiente",description:"El pago está en proceso de verificación",variant:"default"})):(m("payment"),l("El pago no pudo ser procesado. Por favor intente nuevamente o elija otro método de pago."),i({title:"Pago fallido",description:"No se pudo completar la transacción",variant:"destructive"}));const P=window.location.pathname;window.history.replaceState({},document.title,P)}},[]);const xe=s=>{const a=r.find(n=>n.id===s.id);h(a?r.map(n=>n.id===s.id?{...n,quantity:n.quantity+1}:n):[...r,{...s,quantity:1}]),i({title:"Servicio agregado",description:`${s.name} agregado al carrito`})},B=s=>{h(r.filter(a=>a.id!==s))},J=(s,a)=>{if(a<=0){B(s);return}h(r.map(n=>n.id===s?{...n,quantity:a}:n))},ue=async()=>{if(r.length===0){l("No hay items en el carrito");return}if(!t.name||!t.email){l("Por favor complete la información del cliente"),m("customer");return}if(S!=="connected"){l("Terminal de pago no disponible");return}v(!0),l(null),x("connecting");try{setTimeout(()=>x("waiting"),1e3),setTimeout(()=>x("processing"),3e3),await new Promise(a=>setTimeout(a,5e3));const s="TX-REAL-"+Date.now().toString().slice(-6);N(s),x("success"),y(!0),i({title:"Pago completado",description:`Transacción ${s} procesada exitosamente`}),console.log("Transacción registrada:",{id:s,storeCode:g,items:r,customer:t,total:T,subtotal:f,tax:C,operatorId:(u==null?void 0:u.id)||"unknown",timestamp:new Date().toISOString()})}catch(s){console.error("Error procesando el pago:",s),l("Error al procesar el pago. Intente nuevamente."),x("failure"),i({title:"Error",description:"No se pudo completar la transacción",variant:"destructive"})}finally{v(!1)}},he=async()=>{if(r.length===0){l("No hay items en el carrito");return}if(!t.name||!t.email){l("Por favor complete la información del cliente"),m("customer");return}v(!0),l(null);try{const s=r.map(b=>({title:b.name,quantity:b.quantity,unit_price:b.price,currency_id:"CLP"})),a=`TX-REAL-${Date.now().toString()}`;try{localStorage.setItem(`tx_customer_${a}`,JSON.stringify(t)),localStorage.setItem(`tx_cart_${a}`,JSON.stringify(r)),localStorage.setItem(`tx_store_${a}`,g)}catch(b){console.error("Error guardando datos del cliente:",b)}const n={success:`${window.location.origin}/real-pos-payment?status=success&reference=${a}`,failure:`${window.location.origin}/real-pos-payment?status=failure&reference=${a}`,pending:`${window.location.origin}/real-pos-payment?status=pending&reference=${a}`},P=await fetch("/api/mercadopago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:s,backUrls:n,externalReference:a,customer:{name:t.name,email:t.email,document:t.document},identification:{type:"RUT",number:t.document}})});if(!P.ok)throw new Error("Error al crear preferencia de pago");const d=await P.json();if(N(a),d.init_point){window.location.href=d.init_point;return}else throw new Error("No se recibió URL de pago")}catch(s){console.error("Error procesando el pago:",s),l("Error al procesar el pago. Intente nuevamente."),i({title:"Error",description:"No se pudo completar la transacción",variant:"destructive"})}finally{v(!1)}},W=()=>{h([]),p({name:"",email:"",document:""}),y(!1),N(null),l(null),x("idle"),m("services")},pe=()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Recibo de Pago"}),e.jsx("p",{className:"text-gray-500",children:"VecinoXpress"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Tienda: ",g]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Transacción #",D]}),e.jsx("p",{className:"text-sm text-gray-400",children:new Date().toLocaleString()})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Cliente"}),e.jsx("p",{children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email}),t.document&&e.jsxs("p",{className:"text-sm text-gray-500",children:["RUT: ",t.document]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Items"}),r.map(s=>e.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[e.jsxs("span",{children:[s.quantity," x ",s.name]}),e.jsx("span",{children:(s.price*s.quantity).toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]},s.id))]}),e.jsx(te,{className:"my-4"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:z})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"IVA (19%)"}),e.jsx("span",{children:F})]}),e.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:L})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t text-center",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-4",children:[e.jsx(A,{className:"w-10 h-10 text-green-500 mb-2"}),e.jsx("p",{className:"text-green-600 font-medium",children:"Pago Completado"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gracias por utilizar VecinoXpress"})]})]}),je=()=>{switch(S){case"connected":return e.jsxs(I,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Terminal conectado"]});case"disconnected":return e.jsxs(I,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Terminal desconectado"]});case"error":return e.jsxs(I,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Error en terminal"]});default:return null}},ge=()=>{switch(U){case"connecting":return e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"animate-spin w-10 h-10 border-4 border-[#2d219b] border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Conectando con terminal de pago..."})]});case"waiting":return e.jsxs("div",{className:"text-center py-6",children:[e.jsx(X,{className:"w-10 h-10 mx-auto mb-4 text-[#2d219b]"}),e.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Esperando pago en terminal"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por favor siga las instrucciones en el dispositivo de pago"})]});case"processing":return e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"animate-spin w-10 h-10 border-4 border-[#2d219b] border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Procesando pago"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por favor espere mientras se completa la transacción"})]});case"failure":return e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ae,{className:"w-6 h-6 text-red-600"})}),e.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Error en la transacción"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No se pudo completar el pago. Por favor intente nuevamente."}),e.jsx(c,{onClick:()=>x("idle"),className:"mt-4",children:"Intentar de nuevo"})]});default:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#2d219b]/5 p-4 rounded-lg border border-[#2d219b]/10",children:[e.jsx("h3",{className:"font-medium text-[#2d219b] mb-2",children:"Opciones de pago"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Seleccione el método de pago:"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold mb-2",children:L}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Total a pagar"})]}),e.jsxs("div",{className:"border rounded-lg p-4 border-[#2d219b]/20 bg-[#2d219b]/5",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(X,{className:"w-5 h-5 mr-3 text-[#2d219b]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"VecinoXpress POS - Tuu Payments"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Terminal Sunmi T5810 con integración nativa"})]})]}),e.jsx("div",{className:"text-xs text-[#2d219b] mb-3",children:"Recomendado - Sistema oficial de VecinoXpress POS"}),e.jsx(Ie,{amount:T,description:`Pago VecinoXpress - ${g}`,clientRut:t.document,onPaymentComplete:s=>{const a="TX-TUU-"+Date.now().toString().slice(-6);N(a),x("success"),y(!0),i({title:"Pago completado",description:`Transacción ${a} procesada exitosamente`}),console.log("Transacción Tuu registrada:",{id:a,tuuData:s,storeCode:g,items:r,customer:t,total:T,subtotal:f,tax:C,operatorId:(u==null?void 0:u.id)||"unknown",timestamp:new Date().toISOString()})},onPaymentError:s=>{console.error("Error procesando el pago:",s),l("Error al procesar el pago. Intente nuevamente."),x("failure"),i({title:"Error",description:"No se pudo completar la transacción",variant:"destructive"})}})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(X,{className:"w-5 h-5 mr-3 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Terminal de pago (simulado)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Simula el pago con un terminal físico"})]})]}),e.jsxs(c,{className:"w-full mt-3",variant:"outline",onClick:ue,disabled:E||S!=="connected",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Usar terminal simulado"]}),S!=="connected"&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:"El terminal de pago no está disponible"})]}),e.jsxs("div",{className:"border rounded-lg p-4 border-blue-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(O,{className:"w-5 h-5 mr-3 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Pago con MercadoPago"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tarjeta, transferencia o QR desde su celular"})]})]}),e.jsx("div",{className:"text-xs text-blue-700 mb-3",children:"Recomendado - Funciona incluso sin terminal físico"}),e.jsxs(c,{className:"w-full",variant:"outline",onClick:he,disabled:E,children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Pagar con MercadoPago"]})]})]})]})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-[#2d219b]",children:"VecinoXpress POS"})}),e.jsxs("div",{className:"flex gap-2",children:[je(),e.jsx("div",{className:"text-sm bg-[#2d219b] text-white px-3 py-1 rounded-full",children:"Modo REAL"})]})]}),e.jsx(ve,{items:ie,backTo:"/pos-menu",backLabel:"Volver a POS Menu",className:"mb-6"}),w&&!M&&e.jsxs(Q,{variant:"destructive",className:"mb-4",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx(G,{children:w})]}),M?e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-lg shadow text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(A,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-green-700 mb-2",children:"¡Transacción Completada!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["La transacción #",D," ha sido procesada exitosamente."]}),e.jsx(c,{onClick:W,children:"Nueva Transacción"})]}),e.jsx("div",{className:"col-span-1",children:pe()}),e.jsxs("div",{className:"col-span-1 bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"¿Qué desea hacer ahora?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(c,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>{i({title:"Imprimir recibo",description:"Enviando a impresora..."})},children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Imprimir recibo"]}),e.jsxs(c,{variant:"outline",className:"w-full justify-start text-left",onClick:()=>{i({title:"Enviar por correo",description:`Enviando recibo a ${t.email}...`})},children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Enviar por correo"]}),e.jsxs(c,{className:"w-full justify-start text-left",onClick:W,children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Nueva venta"]})]})]})]}):e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(K,{className:"shadow",children:[e.jsx(Y,{className:"bg-gradient-to-r from-[#2d219b]/10 to-[#2d219b]/5",children:e.jsxs(Z,{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Terminal de Servicios"}),e.jsxs(I,{variant:"outline",className:"bg-white",children:["Tienda: ",g]})]})}),e.jsx(ee,{className:"p-0",children:e.jsxs(we,{value:le,onValueChange:m,className:"w-full",children:[e.jsxs(Se,{className:"w-full grid grid-cols-3",children:[e.jsxs(R,{value:"services",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Servicios"]}),e.jsxs(R,{value:"customer",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Cliente"]}),e.jsxs(R,{value:"payment",disabled:r.length===0,children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Pago"]})]}),e.jsxs(V,{value:"services",className:"p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Seleccione los servicios"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ce.AVAILABLE_SERVICES.map(s=>e.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>xe(s),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.price.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]}),e.jsx(c,{size:"sm",variant:"ghost",children:e.jsx(Ce,{className:"w-4 h-4"})})]})},s.id))}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(c,{disabled:r.length===0,onClick:()=>m("customer"),children:["Siguiente",e.jsx(se,{className:"ml-2 h-4 w-4"})]})})]}),e.jsxs(V,{value:"customer",className:"p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Información del cliente"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"name",children:"Nombre completo"}),e.jsx(_,{id:"name",value:t.name,onChange:s=>p({...t,name:s.target.value}),placeholder:"Nombre del cliente"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"email",children:"Correo electrónico"}),e.jsx(_,{id:"email",type:"email",value:t.email,onChange:s=>p({...t,email:s.target.value}),placeholder:"correo@ejemplo.com"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"document",children:"RUT (opcional)"}),e.jsx(_,{id:"document",value:t.document,onChange:s=>p({...t,document:s.target.value}),placeholder:"12.345.678-9"})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Verificación de Identidad"}),oe?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start",children:[e.jsx(A,{className:"text-green-600 w-5 h-5 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Identidad Verificada"}),j&&e.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[e.jsxs("p",{children:["Nombre: ",j.fullName]}),e.jsxs("p",{children:["Documento: ",j.documentNumber]}),e.jsxs("p",{children:["Método: ",j.verificationMethod==="simulate"?"Simulado":j.verificationMethod==="nfc"?"NFC":j.verificationMethod==="document"?"Documento":"Selfie"]})]})]})]}):e.jsx(Le,{onVerificationComplete:s=>{de(!0),me(s),p({...t,name:s.fullName,document:s.documentNumber}),i({title:"Identidad verificada",description:"La información ha sido verificada exitosamente."})},mode:"simple"})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx(c,{variant:"outline",onClick:()=>m("services"),children:"Atrás"}),e.jsxs(c,{onClick:()=>m("payment"),disabled:!t.name||!t.email,children:["Siguiente",e.jsx(se,{className:"ml-2 h-4 w-4"})]})]})]}),e.jsxs(V,{value:"payment",className:"p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Pago con terminal físico"}),ge(),w&&e.jsxs(Q,{variant:"destructive",className:"mt-4",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx(G,{children:w})]}),U==="idle"&&e.jsx("div",{className:"mt-6 flex justify-between",children:e.jsx(c,{variant:"outline",onClick:()=>m("customer"),children:"Atrás"})})]})]})})]})}),e.jsx("div",{className:"col-span-1",children:e.jsxs(K,{className:"shadow",children:[e.jsx(Y,{className:"bg-gradient-to-r from-[#2d219b]/10 to-[#2d219b]/5 pb-4",children:e.jsxs(Z,{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Carrito"}),e.jsxs("span",{className:"text-sm bg-[#2d219b] text-white px-2 py-1 rounded",children:[r.length," ítems"]})]})}),e.jsxs(ee,{className:"p-0",children:[e.jsx(Te,{className:"h-[400px]",children:e.jsx("div",{className:"p-4",children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ne,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"El carrito está vacío"})]}):e.jsx("div",{className:"space-y-2",children:r.map(s=>e.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.price.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-7 p-0",onClick:()=>J(s.id,s.quantity-1),children:"-"}),e.jsx("span",{className:"w-5 text-center",children:s.quantity}),e.jsx(c,{size:"sm",variant:"outline",className:"h-7 w-7 p-0",onClick:()=>J(s.id,s.quantity+1),children:"+"})]}),e.jsx(c,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-gray-400",onClick:()=>B(s.id),children:e.jsx(ae,{className:"h-4 w-4"})})]})]},s.id))})})}),e.jsx("div",{className:"p-4 border-t bg-gray-50",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{children:z})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"IVA (19%)"}),e.jsx("span",{children:F})]}),e.jsx(te,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:L})]})]})})]}),e.jsx(Pe,{className:"border-t p-4",children:e.jsx(c,{className:"w-full",disabled:r.length===0||E,onClick:()=>m("payment"),children:r.length===0?"Agregue servicios":"Proceder al pago"})})]})})]})]})})};export{Ve as default};
