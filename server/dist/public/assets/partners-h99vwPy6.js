import{r as u,j as e,O as F,P,Q as A,R as k,V as t,ap as m,a as n,e as l,aS as I,aT as L,aU as r,aV as c,aW as z,aX as i,B as j,E as q,ar as V,as as E,at as $,au as M,av as O,T as G,i as W,k as b,n as w,J as K,aN as Q,ai as Y,ah as Z,aa as _,K as ee,aO as se,b as d,d as x,f as v,$ as o,aY as p,aZ as C,I as ae,aw as ie,aP as g}from"./index-Bdt7aQY8.js";import{V as ce}from"./VecinosAdminLayout-BVBfj647.js";const N=[{id:1,storeName:"Minimarket El Sol",businessType:"tienda",address:"Av. Principal 123, Santiago",ownerName:"Juan Pérez",ownerRut:"12345678-9",phone:"912345678",email:"demo@vecinos.test",status:"approved",createdAt:"2025-01-15",hasDevice:!0,hasInternet:!0,commissionRate:20,balance:15600,documents:32},{id:2,storeName:"Farmacia Vida",businessType:"farmacia",address:"Las Condes 567, Santiago",ownerName:"Carlos Rodríguez",ownerRut:"11222333-4",phone:"987654321",email:"partner2@vecinos.test",status:"approved",createdAt:"2025-02-10",hasDevice:!0,hasInternet:!0,commissionRate:10,balance:25400,documents:45},{id:3,storeName:"Librería Central",businessType:"libreria",address:"Manuel Montt 890, Providencia",ownerName:"Ana Martínez",ownerRut:"14789632-5",phone:"945678912",email:"partner3@vecinos.test",status:"pending",createdAt:"2025-03-05",hasDevice:!1,hasInternet:!0,commissionRate:15,balance:0,documents:0},{id:4,storeName:"Café Internet Express",businessType:"cafe",address:"Irarrázaval 1234, Ñuñoa",ownerName:"Pedro Sánchez",ownerRut:"16987456-2",phone:"978912345",email:"partner4@vecinos.test",status:"rejected",createdAt:"2025-03-15",hasDevice:!1,hasInternet:!0,commissionRate:0,balance:0,documents:0},{id:5,storeName:"Ferretería Don José",businessType:"ferreteria",address:"Av. Libertad 456, Viña del Mar",ownerName:"José Gómez",ownerRut:"10543876-0",phone:"945612378",email:"partner5@vecinos.test",status:"pending",createdAt:"2025-04-02",hasDevice:!1,hasInternet:!1,commissionRate:0,balance:0,documents:0}],re=()=>{const[s,D]=u.useState(null),[B,S]=u.useState(!1),[H,h]=u.useState(!1),[f,J]=u.useState("all"),U=a=>{D(a),S(!0)},X=a=>{D(a),h(!0)},T=f==="all"?N:N.filter(a=>a.status===f),R=a=>{switch(a){case"approved":return e.jsx(g,{className:"bg-green-500",children:"Aprobado"});case"pending":return e.jsx(g,{className:"bg-amber-500",children:"Pendiente"});case"rejected":return e.jsx(g,{className:"bg-red-500",children:"Rechazado"});default:return e.jsx(g,{className:"bg-gray-500",children:"Desconocido"})}},y=a=>({tienda:"Tienda/Minimarket",farmacia:"Farmacia",libreria:"Librería/Papelería",cafe:"Café Internet",ferreteria:"Ferretería"})[a]||a;return e.jsxs(ce,{title:"Gestión de Socios",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Socios Vecinos Xpress"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(F,{value:f,onValueChange:J,children:[e.jsx(P,{className:"w-[180px]",children:e.jsx(A,{placeholder:"Filtrar por estado"})}),e.jsxs(k,{children:[e.jsx(t,{value:"all",children:"Todos"}),e.jsx(t,{value:"approved",children:"Aprobados"}),e.jsx(t,{value:"pending",children:"Pendientes"}),e.jsx(t,{value:"rejected",children:"Rechazados"})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 rounded-full px-3 py-1",children:[e.jsx(m,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-xs font-medium",children:[N.filter(a=>a.status==="approved").length," Aprobados"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-amber-100 rounded-full px-3 py-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),e.jsxs("span",{className:"text-xs font-medium",children:[N.filter(a=>a.status==="pending").length," Pendientes"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-red-100 rounded-full px-3 py-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-xs font-medium",children:[N.filter(a=>a.status==="rejected").length," Rechazados"]})]})]})]}),e.jsx(n,{children:e.jsx(l,{className:"p-0",children:e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(r,{children:[e.jsx(c,{children:"Tienda"}),e.jsx(c,{children:"Tipo"}),e.jsx(c,{children:"Propietario"}),e.jsx(c,{children:"Estado"}),e.jsx(c,{className:"text-center",children:"Saldo"}),e.jsx(c,{className:"text-center",children:"Docs."}),e.jsx(c,{children:"Fecha"}),e.jsx(c,{className:"text-right",children:"Acciones"})]})}),e.jsxs(z,{children:[T.map(a=>e.jsxs(r,{children:[e.jsx(i,{className:"font-medium",children:a.storeName}),e.jsx(i,{children:y(a.businessType)}),e.jsx(i,{children:a.ownerName}),e.jsx(i,{children:R(a.status)}),e.jsxs(i,{className:"text-center",children:["$",a.balance.toLocaleString()]}),e.jsx(i,{className:"text-center",children:a.documents}),e.jsx(i,{className:"text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>U(a),children:e.jsx(q,{className:"h-4 w-4"})}),a.status==="pending"&&e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>X(a),children:e.jsx(m,{className:"h-4 w-4 text-green-600"})})]})})]},a.id)),T.length===0&&e.jsx(r,{children:e.jsx(i,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No se encontraron socios con el filtro seleccionado"})})]})]})})})]}),s&&e.jsx(V,{open:B,onOpenChange:S,children:e.jsxs(E,{className:"max-w-3xl",children:[e.jsxs($,{children:[e.jsx(M,{children:"Detalles del Socio"}),e.jsxs(O,{children:["Información completa de ",s.storeName]})]}),e.jsxs(G,{defaultValue:"info",className:"w-full",children:[e.jsxs(W,{className:"grid w-full grid-cols-3",children:[e.jsx(b,{value:"info",children:"Información"}),e.jsx(b,{value:"services",children:"Servicios"}),e.jsx(b,{value:"financials",children:"Financiero"})]}),e.jsx(w,{value:"info",className:"space-y-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"h-8 w-8 text-gray-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.storeName}),e.jsx("p",{className:"text-sm text-gray-500",children:y(s.businessType)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-5 w-5 text-gray-500"}),e.jsxs("span",{children:["Desde ",new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"h-8 w-8 text-gray-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.ownerName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["RUT: ",s.ownerRut]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsxs("span",{className:"block",children:["Estado: ",R(s.status)]}),e.jsx("span",{className:"text-sm text-gray-500",children:s.status==="approved"?"Socio activo":s.status==="pending"?"Esperando aprobación":"Solicitud rechazada"})]})]}),e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Notas"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.status==="approved"?"Socio verificado y activo. Todos los documentos están en orden y ha completado la capacitación inicial.":s.status==="pending"?"Pendiente de validación de documentos y capacitación.":"La solicitud fue rechazada debido a documentación incompleta o inconsistente."})]})]})]})}),e.jsx(w,{value:"services",className:"py-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"pb-3",children:[e.jsx(x,{children:"Equipamiento"}),e.jsx(v,{children:"Dispositivos y conectividad"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"hasDevice",children:"POS físico"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Dispositivo para NFC y firmas"})]}),e.jsx(p,{id:"hasDevice",checked:s.hasDevice,onCheckedChange:()=>{}})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"hasInternet",children:"Conexión a Internet"}),e.jsx("div",{className:"text-sm text-gray-500",children:"WiFi o conexión fija"})]}),e.jsx(p,{id:"hasInternet",checked:s.hasInternet,onCheckedChange:()=>{}})]})]})]}),e.jsxs(n,{children:[e.jsxs(d,{className:"pb-3",children:[e.jsx(x,{children:"Servicios habilitados"}),e.jsx(v,{children:"Funcionalidades disponibles"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"signService",children:"Firma de documentos"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Certificación y firma digital"})]}),e.jsx(p,{id:"signService",checked:s.status==="approved",onCheckedChange:()=>{}})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"verifyService",children:"Verificación identidad"}),e.jsx("div",{className:"text-sm text-gray-500",children:"NFC y validación biométrica"})]}),e.jsx(p,{id:"verifyService",checked:s.hasDevice&&s.status==="approved",onCheckedChange:()=>{}})]})]})]})]}),e.jsxs(n,{children:[e.jsxs(d,{className:"pb-3",children:[e.jsx(x,{children:"Capacitación y soporte"}),e.jsx(v,{children:"Estado de formación y materiales"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="approved"?e.jsx(m,{className:"h-5 w-5 text-green-500"}):e.jsx(C,{className:"h-5 w-5 text-gray-300"}),e.jsx("span",{children:"Capacitación inicial completada"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="approved"?e.jsx(m,{className:"h-5 w-5 text-green-500"}):e.jsx(C,{className:"h-5 w-5 text-gray-300"}),e.jsx("span",{children:"Material informativo entregado"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="approved"&&s.documents>10?e.jsx(m,{className:"h-5 w-5 text-green-500"}):e.jsx(C,{className:"h-5 w-5 text-gray-300"}),e.jsx("span",{children:"Capacitación avanzada"})]})]})})]})]})}),e.jsx(w,{value:"financials",className:"py-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(n,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(x,{className:"text-sm font-medium text-gray-500",children:"Saldo actual"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",s.balance.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Disponible para retiro"})]})]}),e.jsxs(n,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(x,{className:"text-sm font-medium text-gray-500",children:"Comisión actual"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.commissionRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"De cada transacción"})]})]}),e.jsxs(n,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(x,{className:"text-sm font-medium text-gray-500",children:"Total documentos"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.documents}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Procesados a la fecha"})]})]})]}),e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(x,{children:"Historial de transacciones"}),e.jsx(v,{children:"Últimos movimientos financieros"})]}),e.jsx(l,{children:s.documents>0?e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(r,{children:[e.jsx(c,{children:"Fecha"}),e.jsx(c,{children:"Concepto"}),e.jsx(c,{className:"text-right",children:"Monto"}),e.jsx(c,{className:"text-right",children:"Comisión"})]})}),e.jsx(z,{children:s.status==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{children:[e.jsx(i,{children:new Date("2025-04-25").toLocaleDateString()}),e.jsx(i,{children:"Contrato arriendo"}),e.jsx(i,{className:"text-right",children:"$4,500"}),e.jsx(i,{className:"text-right text-green-600",children:"+$900"})]}),e.jsxs(r,{children:[e.jsx(i,{children:new Date("2025-04-20").toLocaleDateString()}),e.jsx(i,{children:"Declaración jurada"}),e.jsx(i,{className:"text-right",children:"$3,900"}),e.jsx(i,{className:"text-right text-green-600",children:"+$780"})]}),e.jsxs(r,{children:[e.jsx(i,{children:new Date("2025-04-15").toLocaleDateString()}),e.jsx(i,{children:"Finiquito"}),e.jsx(i,{className:"text-right",children:"$4,900"}),e.jsx(i,{className:"text-right text-green-600",children:"+$980"})]}),e.jsxs(r,{children:[e.jsx(i,{children:new Date("2025-04-10").toLocaleDateString()}),e.jsx(i,{children:"Retiro de saldo"}),e.jsx(i,{className:"text-right",children:"-$10,000"}),e.jsx(i,{className:"text-right",children:"$0"})]})]})})]}):e.jsx("div",{className:"py-6 text-center text-gray-500",children:"No hay transacciones registradas"})})]})]})})]})]})}),s&&e.jsx(V,{open:H,onOpenChange:h,children:e.jsxs(E,{children:[e.jsxs($,{children:[e.jsx(M,{children:"Aprobación de socio"}),e.jsxs(O,{children:["Revisar la solicitud de ",s.storeName]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Datos de la tienda"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Nombre:"}),e.jsx("div",{children:s.storeName}),e.jsx("div",{className:"font-medium",children:"Tipo:"}),e.jsx("div",{children:y(s.businessType)}),e.jsx("div",{className:"font-medium",children:"Dirección:"}),e.jsx("div",{children:s.address}),e.jsx("div",{className:"font-medium",children:"Teléfono:"}),e.jsx("div",{children:s.phone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Datos del propietario"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Nombre:"}),e.jsx("div",{children:s.ownerName}),e.jsx("div",{className:"font-medium",children:"RUT:"}),e.jsx("div",{children:s.ownerRut})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Configuración"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{htmlFor:"approve-hasDevice",children:"Asignar POS físico"}),e.jsx(p,{id:"approve-hasDevice",onCheckedChange:()=>{}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{htmlFor:"approve-commissionRate",children:"Porcentaje de comisión"}),e.jsxs(F,{defaultValue:"20",children:[e.jsx(P,{className:"w-24",children:e.jsx(A,{placeholder:"%"})}),e.jsxs(k,{children:[e.jsx(t,{value:"10",children:"10%"}),e.jsx(t,{value:"15",children:"15%"}),e.jsx(t,{value:"20",children:"20%"}),e.jsx(t,{value:"25",children:"25%"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"approve-notes",children:"Notas internas"}),e.jsx(ae,{id:"approve-notes",placeholder:"Añade notas sobre esta solicitud (opcional)"})]})]}),e.jsxs(ie,{children:[e.jsx(j,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(j,{variant:"destructive",onClick:()=>h(!1),children:"Rechazar"}),e.jsx(j,{onClick:()=>h(!1),children:"Aprobar"})]})]})})]})};export{re as default};
