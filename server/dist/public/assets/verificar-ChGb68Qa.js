import{aG as y,u as b,bv as C,r as i,j as e,a as w,b as T,d as V,f as S,e as I,al as k,br as E,an as F,ao as A,T as D,i as L,k as m,n as x,b8 as P,M as R,x as _,B as f,a2 as B}from"./index-Bdt7aQY8.js";function G(){const{toast:h}=y(),[,r]=b(),[,t]=C("/verificar/:id"),[n,d]=i.useState(!1),[l,u]=i.useState("selfie"),[s,g]=i.useState(null),[q,o]=i.useState("not_started"),a=t==null?void 0:t.id;i.useEffect(()=>{a&&j(a)},[a]);const j=async v=>{d(!0);try{await new Promise(c=>setTimeout(c,1500)),g({id:v,tipo:"compraventa",nombre:"Contrato de Compraventa",estado:"pendiente",fechaCreacion:new Date().toISOString()}),o("not_started")}catch(c){console.error("Error al cargar información del trámite:",c),h({title:"Error",description:"No se pudo cargar la información del trámite",variant:"destructive"})}finally{d(!1)}},N=()=>{o("in_progress"),r(l==="selfie"?"/verificacion-selfie":l==="nfc"?"/verificacion-nfc":"/verificacion-selfie")},p=()=>s?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Información del trámite"}),e.jsxs("dl",{className:"mt-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-1 py-1",children:[e.jsx("dt",{className:"text-gray-500",children:"ID del trámite:"}),e.jsx("dd",{className:"text-indigo-700 font-mono",children:s.id})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 py-1",children:[e.jsx("dt",{className:"text-gray-500",children:"Tipo de documento:"}),e.jsx("dd",{className:"text-gray-900",children:s.nombre})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 py-1",children:[e.jsx("dt",{className:"text-gray-500",children:"Estado:"}),e.jsx("dd",{className:"text-gray-900 capitalize",children:s.estado})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 py-1",children:[e.jsx("dt",{className:"text-gray-500",children:"Fecha de creación:"}),e.jsx("dd",{className:"text-gray-900",children:new Date(s.fechaCreacion).toLocaleString()})]})]})]})}):null;return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs(w,{className:"w-full max-w-lg",children:[e.jsxs(T,{className:"bg-indigo-900 text-white rounded-t-lg",children:[e.jsx(V,{className:"text-xl",children:"Verificación de Identidad"}),e.jsx(S,{className:"text-gray-200",children:a?`Verificación para el trámite: ${a}`:"Verificación de identidad"})]}),e.jsx(I,{className:"py-6",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-900 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando información del trámite..."})]}):e.jsxs("div",{className:"space-y-6",children:[p(),e.jsxs(k,{className:"bg-blue-50 text-blue-800 border-blue-200",children:[e.jsx(E,{className:"h-4 w-4 text-blue-600"}),e.jsx(F,{children:"Verificación requerida"}),e.jsx(A,{children:"Para continuar con este trámite, necesitamos verificar su identidad."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Seleccione un método de verificación:"}),e.jsxs(D,{defaultValue:"selfie",onValueChange:u,children:[e.jsxs(L,{className:"grid grid-cols-2 w-full",children:[e.jsx(m,{value:"selfie",children:"Verificación por Selfie"}),e.jsx(m,{value:"nfc",children:"Verificación por NFC"})]}),e.jsx(x,{value:"selfie",className:"p-4 border rounded-lg mt-2",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:e.jsx(P,{className:"h-6 w-6 text-indigo-700"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Verificación por Selfie"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Capturaremos una foto de su rostro para verificar su identidad."})]})]})}),e.jsx(x,{value:"nfc",className:"p-4 border rounded-lg mt-2",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:e.jsx(R,{className:"h-6 w-6 text-indigo-700"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Verificación por NFC"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Leeremos el chip de su documento de identidad mediante NFC."})]})]})})]})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pasos de verificación:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-800 mr-3",children:"1"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-600",children:"Verificar su identidad con el método seleccionado"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-800 mr-3",children:"2"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-600",children:"Capturar una foto de su documento de identidad"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-800 mr-3",children:"3"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-600",children:"Firmar electrónicamente su documento"})})]})]})]})]})}),e.jsxs(_,{className:"flex justify-between",children:[e.jsx(f,{variant:"outline",onClick:()=>r("/"),children:"Cancelar"}),s&&e.jsxs(f,{onClick:N,disabled:n,className:"bg-indigo-900 hover:bg-indigo-800",children:["Iniciar Verificación",e.jsx(B,{className:"ml-2 h-4 w-4"})]})]})]})})}export{G as default};
