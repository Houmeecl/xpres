import{u as k,r as p,g as E,h as L,j as e,a as P,b as V,v as F,d as A,f as I,T as q,i as M,k as b,L as D,l as O,n as f,e as g,o as N,p as t,q as i,s as d,t as o,I as l,w as c,B as m,E as v,x as U,y as X,z as w,A as z,G as B,H as y}from"./index-Bdt7aQY8.js";import{E as C}from"./eye-off-CbdfjWsg.js";const R=X({username:w().min(1,"El nombre de usuario es requerido"),password:w().min(1,"La contraseña es requerida")});function J(){const[H,x]=k(),[n,h]=p.useState(!1),[_,T]=p.useState("web"),a=E({resolver:z(R),defaultValues:{username:"",password:""}}),r=L({mutationFn:async s=>{const u=await B("POST","/api/vecinos/login",s);if(!u.ok){const S=await u.json();throw new Error(S.message||"Error al iniciar sesión")}return await u.json()},onSuccess:s=>{s.token&&localStorage.setItem("vecinos_token",s.token),y({title:"Inicio de sesión exitoso",description:"Bienvenido a VecinoXpress"}),x("/document-selection")},onError:s=>{y({title:"Error al iniciar sesión",description:s.message,variant:"destructive"})}}),j=s=>{r.mutate(s)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f2f1ff] p-4",children:e.jsxs(P,{className:"w-full max-w-md shadow-lg",children:[e.jsxs(V,{className:"text-center",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:F,alt:"VecinoXpress Logo",className:"h-24 mb-2"}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsx(A,{className:"text-2xl font-bold text-[#2d219b]",children:"VecinoXpress"})})]}),e.jsx(I,{className:"mt-2",children:"Accede a tu cuenta de socio"})]}),e.jsxs(q,{defaultValue:"web",onValueChange:T,children:[e.jsxs(M,{className:"grid grid-cols-2 mx-6",children:[e.jsxs(b,{value:"web",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Acceso Web"]}),e.jsxs(b,{value:"mobile",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Acceso App"]})]}),e.jsx(f,{value:"web",children:e.jsx(g,{children:e.jsx(N,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),className:"space-y-4",children:[e.jsx(t,{control:a.control,name:"username",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Usuario"}),e.jsx(o,{children:e.jsx(l,{placeholder:"Tu nombre de usuario",...s,disabled:r.isPending})}),e.jsx(c,{})]})}),e.jsx(t,{control:a.control,name:"password",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Contraseña"}),e.jsx(o,{children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{type:n?"text":"password",placeholder:"Tu contraseña",...s,disabled:r.isPending}),e.jsx(m,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>h(!n),children:n?e.jsx(C,{className:"h-4 w-4"}):e.jsx(v,{className:"h-4 w-4"})})]})}),e.jsx(c,{})]})}),e.jsx(m,{type:"submit",className:"w-full bg-[#2d219b] hover:bg-[#231c7c]",disabled:r.isPending,children:r.isPending?"Iniciando sesión...":"Iniciar sesión"}),e.jsxs("div",{className:"bg-[#f2f1ff] border border-[#d8d4ff] rounded-md p-3 mt-4",children:[e.jsx("p",{className:"text-sm text-[#2d219b] font-medium",children:"Credenciales de demostración"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs p-1 bg-white rounded border border-[#d8d4ff]",children:[e.jsx("span",{className:"font-medium",children:"Usuario: demopartner"}),e.jsx("p",{className:"text-gray-500",children:"Contraseña: password123"})]}),e.jsxs("div",{className:"text-xs p-1 bg-white rounded border border-[#d8d4ff]",children:[e.jsx("span",{className:"font-medium",children:"Tienda: Minimarket El Sol"}),e.jsx("p",{className:"text-gray-500",children:"Código: LOCAL-XP125"})]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e.jsx("button",{type:"button",className:"text-[#2d219b] underline",onClick:()=>{a.setValue("username","demopartner"),a.setValue("password","password123")},children:"Autocompletar credenciales de demo"})})]})]})})})}),e.jsx(f,{value:"mobile",children:e.jsx(g,{children:e.jsx(N,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),className:"space-y-4",children:[e.jsx(t,{control:a.control,name:"username",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Usuario"}),e.jsx(o,{children:e.jsx(l,{placeholder:"Tu nombre de usuario",...s,disabled:r.isPending,className:"text-lg h-12"})}),e.jsx(c,{})]})}),e.jsx(t,{control:a.control,name:"password",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Contraseña"}),e.jsx(o,{children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{type:n?"text":"password",placeholder:"Tu contraseña",...s,disabled:r.isPending,className:"text-lg h-12"}),e.jsx(m,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>h(!n),children:n?e.jsx(C,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]})}),e.jsx(c,{})]})}),e.jsx(m,{type:"submit",className:"w-full bg-[#2d219b] hover:bg-[#231c7c] h-14 text-lg",disabled:r.isPending,children:r.isPending?"Iniciando sesión...":"Iniciar sesión"}),e.jsxs("div",{className:"bg-[#f2f1ff] border border-[#d8d4ff] rounded-md p-3 mt-4",children:[e.jsx("p",{className:"text-sm text-[#2d219b] font-medium",children:"Credenciales de demostración"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2",children:e.jsxs("div",{className:"text-sm p-2 bg-white rounded border border-[#d8d4ff]",children:[e.jsx("div",{className:"font-medium",children:"Usuario: demopartner"}),e.jsx("div",{className:"text-gray-500",children:"Contraseña: password123"}),e.jsx("div",{className:"text-gray-500 mt-1",children:"Tienda: Minimarket El Sol"})]})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx("button",{type:"button",className:"text-[#2d219b] underline text-sm",onClick:()=>{a.setValue("username","demopartner"),a.setValue("password","password123")},children:"Autocompletar credenciales"})})]})]})})})})]}),e.jsxs(U,{className:"flex flex-col space-y-2 text-center text-sm",children:[e.jsx("div",{children:e.jsx("a",{href:"#",className:"text-[#2d219b] hover:underline",onClick:s=>{s.preventDefault(),x("/vecinos/recuperar-password")},children:"¿Olvidaste tu contraseña?"})}),e.jsxs("div",{children:["¿No tienes una cuenta?"," ",e.jsx("a",{href:"#",className:"text-[#2d219b] hover:underline",onClick:s=>{s.preventDefault(),x("/partners/registration-form")},children:"Regístrate aquí"})]})]})]})})}export{J as default};
